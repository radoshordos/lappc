<?php



class ProdTableSeeder extends Seeder
{

    public function run()
    {
        include "migration/prod.php";

        DB::table('prod')->delete();
        $now = strtotime('now');

        foreach ($prod as $row) {

            $tree = $this->getTree($row['tree_id']);

            if ($row['id'] % 3 ==0 && $tree > 0) {

                DB::table('prod')->insert([
                    'id'            => $row['id'],
                    'tree_id'       => $tree,
                    'dev_id'        => $row['dev_id'],
                    'warranty_id'   => $row['warranty_id'],
                    'dph_id'        => $row['dph_id'],
                    'mode_id'       => $row['mode_id'],
                    'difference_id' => $row['difference_id'],
                    'alias'         => $row['alias'],
                    'name'          => $row['name'],
                    'desc'          => $row['des'],
                    'img_big'       => $row['img_big'],
                    'img_normal'    => $row['img_normal'],
                    'storeroom'     => rand(0,2),
                    'price'         => $row['price'],
                    'created_at'    => date("Y-m-d H:i:s", $row['ti_create']),
                    'updated_at'    => $now
                ]);
            }
        }
    }

    function getTree($tree)
    {
        $arr = [
            '1109000' => 22020000,
            '1110020' => 21020000,
            '1110021' => 21020200,
            '1110022' => 21020400,
            '1110023' => 21020600,
            '1110024' => 21020800,
            '1110025' => 21021000,
            '1110026' => 21021200,
            '1110027' => 21021400,
            '1110028' => 21021600,
            '1110029' => 21021800,
            '1110030' => 21022000,
            '1110032' => 21024000,
            '1110040' => 21040000,
            '1110060' => 21060000,
            '1110080' => 21080000,
            '1110100' => 21100000,
            '1110120' => 21120000,
            '1110160' => 21140000,
            '1110180' => 21160000,
            '1110200' => 21180000,
            '1110240' => 21200000,
            '1112000' => 22040000,
            '1112100' => 22040200,
            '1112200' => 22040400,
            '1112300' => 22040600,
            '1112400' => 22040800,
            '1112500' => 22041000,
            '1114000' => 22060000,
            '1114020' => 22060200,
            '1114060' => 22060400,
            '1114080' => 22060600,
            '1114100' => 22060800,
            '1114120' => 22061000,
            '1114140' => 22061200,
            '1114180' => 22061400,
            '1114200' => 22061600,
            '1114220' => 22061800,
            '1114240' => 22062000,
            '1114260' => 22062200,
            '1114280' => 22062400,
            '1114320' => 22062600,
            '1114340' => 22062800,
            '1114360' => 22063000,
            '1114380' => 22063200,
            '1114400' => 22063400,
            '1116000' => 25040000,
            '1116040' => 25040200,
            '1116080' => 25040400,
            '1116100' => 25040600,
            '1116120' => 25040800,
            '1116200' => 25041000,
            '1116240' => 25041200,
            '1116242' => 25041202,
            '1116244' => 25041204,
            '1116246' => 25041206,
            '1116248' => 25041208,
            '1116320' => 25041400,
            '1116400' => 25041600,
            '1116420' => 25041800,
            '1116480' => 25042000,
            '1120000' => 27020000,
            '1120020' => 27020200,
            '1120040' => 27020400,
            '1120080' => 27020600,
            '1120120' => 27020800,
            '1120140' => 27021000,
            '1120180' => 27021200,
            '1120200' => 27021400,
            '1120240' => 27021600,
            '1120260' => 27021800,
            '1122000' => 30020000,
            '1122040' => 30020200,
            '1122042' => 30020202,
            '1122044' => 30020204,
            '1122080' => 30020400,
            '1122120' => 30020600,
            '1122160' => 30020800,
            '1124000' => 27040000,
            '1124100' => 27040200,
            '1124200' => 27040400,
            '1124300' => 27040600,
            '1124400' => 27040800,
            '1124500' => 27041000,
            '1124600' => 27041200,
            '1124700' => 27041400,
            '1124800' => 27041600,
            '1124900' => 27041800,
            '1126000' => 25080000,
            '1132000' => 22080000,
            '1132020' => 22080200,
            '1132060' => 22080400,
            '1132080' => 22080600,
            '1132100' => 22080800,
            '1132140' => 22081000,
            '1132160' => 22081200,
            '1133000' => 23020000,
            '1133040' => 23020200,
            '1133060' => 23020400,
            '1133080' => 23020600,
            '1133100' => 23020800,
            '1133120' => 23021000,
            '1133140' => 23021200,
            '1133160' => 23021400,
            '1133180' => 23021600,
            '1133200' => 23021800,
            '1133220' => 23022000,
            '1133260' => 23022200,
            '1133261' => 23022202,
            '1133263' => 23022204,
            '1133264' => 23022206,
            '1133265' => 23022208,
            '1133266' => 23022210,
            '1133268' => 23022212,
            '1133280' => 23022400,
            '1133281' => 23022402,
            '1133284' => 23022404,
            '1133288' => 23022406,
            '1133289' => 23022408,
            '1134020' => 28020000,
            '1134040' => 28040000,
            '1134080' => 28060000,
            '1134100' => 28080000,
            '1134120' => 28100000,
            '1134140' => 28120000,
            '1134160' => 28140000,
            '1134180' => 28160000,
            '1134181' => 28160200,
            '1134182' => 28160400,
            '1134200' => 28180000,
            '1134201' => 28180200,
            '1134202' => 28180400,
            '1134203' => 28180600,
            '1134205' => 28180800,
            '1134206' => 28181000,
            '1134207' => 28181200,
            '1134208' => 28181400,
            '1134220' => 28200000,
            '1134240' => 28220000,
            '1134260' => 28240000,
            '1134280' => 28260000,
            '1134300' => 28280000,
            '1134320' => 28300000,
            '1134322' => 28300200,
            '1134324' => 28300400,
            '1134325' => 28300600,
            '1134328' => 28300800,
            '1136000' => 29020000,
            '1136020' => 29020200,
            '1136040' => 29020400,
            '1136060' => 29020600,
            '1136080' => 29020800,
            '1136100' => 29021000,
            '1136120' => 29021200,
            '1136140' => 29021400,
            '1136160' => 29021600,
            '1136180' => 29021800,
            '1136200' => 29022000,
            '1136220' => 29022200,
            '1136240' => 29022400,
            '1137020' => 26020000,
            '1137021' => 26020200,
            '1137022' => 26020400,
            '1137023' => 26020600,
            '1137024' => 26020800,
            '1137040' => 26040000,
            '1137041' => 26040200,
            '1137043' => 26040400,
            '1137044' => 26040600,
            '1137045' => 26040800,
            '1137048' => 26041000,
            '1137060' => 26041200,
            '1137080' => 26060000,
            '1137081' => 26060200,
            '1137082' => 26060400,
            '1137083' => 26060600,
            '1137084' => 26060800,
            '1137085' => 26061000,
            '1137086' => 26061200,
            '1137087' => 26061400,
            '1137100' => 26061600,
            '1137120' => 26061800,
            '1137140' => 26062000,
            '1137160' => 26062200,
            '1137180' => 26062400,
            '1137200' => 26080000,
            '1137201' => 26080200,
            '1137202' => 26080400,
            '1137204' => 26080600,
            '1137207' => 26080800,
            '1137208' => 26081000,
            '1137220' => 26081200,
            '1137300' => 26081400,
            '1138000' => 22100000
        ];

        return isset($arr[$tree]) ? $arr[$tree] : NULL;
    }

}